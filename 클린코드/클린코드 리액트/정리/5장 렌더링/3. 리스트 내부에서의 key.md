# 리스트 내부에서의 key

React에서 리스트를 렌더링할 때는 각 리스트 아이템에 고유한 `key`를 제공해야 한다. 이 `key`는 React가 어떤 항목이 변경, 추가 또는 제거되었는지를 식별하는 데 사용된다. 적절한 `key`를 사용하면 성능 최적화와 버그 방지에 도움이 된다.

## index를 그대로 key 값으로 사용해도 될까?

```jsx
<ul>
  {list.map((item, index) => (
    <li key={index}>{item}</li>
  ))}
</ul>
```

### index를 key로 사용하는 경우

`index`를 `key`로 사용하는 것은 간단하지만, 리스트가 재정렬되거나 항목이 추가/삭제되는 상황에서는 문제가 발생할 수 있다.

### 예시

```jsx
const Example = () => {
  const list = ["Item 1", "Item 2", "Item 3"];
  return (
    <ul>
      {list.map((item, index) => (
        <li key={index}>{item}</li>
      ))}
    </ul>
  );
};
```

### 문제점

- **리스트의 순서가 바뀌는 경우**: 항목의 순서가 변경되면, `index`가 바뀌기 때문에 React는 항목을 새로 생성해야 한다고 오해할 수 있다.
- **항목 추가/삭제**: 항목이 추가되거나 삭제되면, 다른 항목들의 `index`도 변경되어 불필요한 리렌더링이 발생할 수 있다.

## 고유한 값을 key로 사용하는 것이 좋다

고유한 식별자(예: 데이터베이스의 ID)를 `key`로 사용하는 것이 가장 좋다. 이렇게 하면 항목이 변경, 추가, 삭제되더라도 각 항목을 정확하게 식별할 수 있다.

### 예시

```jsx
const Example = () => {
  const list = [
    { id: 1, name: "Item 1" },
    { id: 2, name: "Item 2" },
    { id: 3, name: "Item 3" },
  ];
  return (
    <ul>
      {list.map((item) => (
        <li key={item.id}>{item.name}</li>
      ))}
    </ul>
  );
};
```

### 이유

- **고유한 식별자**: 각 항목이 고유한 식별자를 가지므로, 항목의 순서가 변경되더라도 React는 각 항목을 정확히 식별할 수 있다.
- **성능 최적화**: 불필요한 리렌더링을 방지하여 성능을 최적화할 수 있다.
- **버그 방지**: 중복되거나 잘못된 `key`로 인해 발생할 수 있는 버그를 방지할 수 있다.

## 결론

- **index를 key로 사용하는 것은 피하는 것이 좋다.** 리스트가 고정적이고 순서가 변하지 않는 경우에만 예외적으로 사용할 수 있다.
- **고유한 식별자를 key로 사용하는 것이 가장 좋다.** 이렇게 하면 React가 각 항목을 정확히 식별하고, 성능 최적화와 버그 방지에 도움이 된다.
